{% block title %}Chatbot - My Flask Site{% endblock %}
{% block content %}
<div style="text-align:center; padding:50px; min-height:80vh; 
background: linear-gradient(135deg, #141E30, #243B55); 
color:#fff; border-radius:15px;">

  <h1>ðŸ’¬ AI Chatbot</h1>
  <p style="font-size:1rem; opacity:0.8;">
    Chat with our AI bot â€” ask questions or get ideas instantly.
  </p>

  <div id="chatbot-messages" 
       style="height:300px; overflow-y:auto; padding:10px; 
       background:#0d1117; border-radius:10px; margin:20px auto; width:80%; text-align:left;">
  </div>

  <input id="chatbot-input" type="text" 
         placeholder="Type a message..." 
         style="width:80%; padding:10px; border-radius:5px; margin-top:10px; border:none;">

</div>

<script>
const input = document.getElementById("chatbot-input");
const messages = document.getElementById("chatbot-messages");

input.addEventListener("keypress", function(e) {
    if(e.key === "Enter" && input.value.trim() !== ""){
        const userMsg = input.value;
        messages.innerHTML += "<div><b>You:</b> " + userMsg + "</div>";
        input.value = "";

        fetch("/chat", {
            method: "POST",
            headers: {"Content-Type":"application/json"},
            body: JSON.stringify({message: userMsg})
        })
        .then(res => res.json())
        .then(data => {
            messages.innerHTML += "<div><b>Bot:</b> " + data.response + "</div>";
            messages.scrollTop = messages.scrollHeight;
        });
    }
});
</script>
{% endblock %}
